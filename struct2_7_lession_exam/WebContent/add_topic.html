<!doctype html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>试题添加界面</title>
    <link rel="stylesheet" type="text/css" href="jquery-tab/css/default.css">
    <link href='http://fonts.useso.com/css?family=Noto+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="jquery-tab/css/styles.css">
    <style>
        .section textarea {
            width: 800px;
            height: 40px;
            
        }
        .section label{
            font-family: sans-serif;
            font-size: 20px;
            color:black;
        }
        
    </style>
</head>

<body>
    <nav class="nav nav--active">
        <ul class="nav__list">
            <li class="nav__item">
                <a href="" class="nav__link">
                    <div class="nav__thumb color1" data-letter="a"></div>
                    <p class="nav__label">关于</p>
                </a>
            </li>
            <li class="nav__item">
                <a href="" class="nav__link">
                    <div class="nav__thumb color2" data-letter="s"></div>
                    <p class="nav__label">单选题</p>
                </a>
            </li>
            <li class="nav__item">
                <a href="" class="nav__link">
                    <div class="nav__thumb color3" data-letter="m"></div>
                    <p class="nav__label">多选题</p>
                </a>
            </li>
            <li class="nav__item">
                <a href="" class="nav__link">
                    <div class="nav__thumb color4" data-letter="e"></div>
                    <p class="nav__label">填空题</p>
                </a>
            </li>
            <li class="nav__item">
                <a href="" class="nav__link">
                    <div class="nav__thumb color5" data-letter="s"></div>
                    <p class="nav__label">简答题</p>
                </a>
            </li>
            <li class="nav__item">
                <a href="" class="nav__link">
                    <div class="nav__thumb color6" data-letter="o"></div>
                    <p class="nav__label">其它</p>
                </a>
            </li>
        </ul>
        <div class="burger burger--close">
            <div class="burger__patty"></div>
        </div>
    </nav>

    <div class="page">
        <section class="section section--active color1" data-letter="A">
            <header class="htmleaf-header">
                <h1>“技术”成就梦想</h1>
            </header>
        </section>
        <section class="section color2" data-letter="S">
            <form action="add_topic_server.php" method="post" enctype="application/x-www-form-urlencoded">
                <input type="hidden" name="type" value="single">
                <label>题目:</label>
                <br>
                <textarea name="single_name" id="single_name" ></textarea>
                <br>
                <label>A</label>
                <br>
                <textarea name="single_A" id="single_A" ></textarea>
                <br>
                <label>B</label>
                <br>
                <textarea name="single_B" id="single_B" ></textarea>
                <br>
                <label>C</label>
                <br>
                <textarea name="single_C" id="single_C" ></textarea>
                <br>
                <label>D</label>
                <br>
                <textarea name="single_D" id="single_D" ></textarea>
                <br>
                <label>A</label><input type="radio" name="single" value="A">
                <label>B</label><input type="radio" name="single" value="B">
                <label>C</label><input type="radio" name="single" value="C">
                <label>D</label><input type="radio" name="single" value="D">
                <br>
                <input type="submit" value="提交">
            </form>
        </section>
        <section class="section color3" data-letter="M">
           <form action="add_topic_server.php" method="post" enctype="application/x-www-form-urlencoded">
                <input type="hidden" name="type" value="mult">
                <label>题目:</label>
                <br>
                <textarea name="mult_name" id="mult_name" ></textarea>
                <br>
                <label>A</label>
                <br>
                <textarea name="mult_A" id="mult_A" ></textarea>
                <br>
                <label>B</label>
                <br>
                <textarea name="mult_B" id="mult_B" ></textarea>
                <br>
                <label>C</label>
                <br>
                <textarea name="mult_C" id="mult_C" ></textarea>
                <br>
                <label>D</label>
                <br>
                <textarea name="mult_D" id="mult_D" ></textarea>
                <br>
                <label>A</label><input type="checkbox" name="mult[]" value="A">
                <label>B</label><input type="checkbox" name="mult[]" value="B">
                <label>C</label><input type="checkbox" name="mult[]" value="C">
                <label>D</label><input type="checkbox" name="mult[]" value="D">
                <br>
                <input type="submit" value="提交">
            </form>
        </section>
        <section class="section color4" data-letter="E">
            <article class="section__wrapper">
                <h1 class="section__title">填空题</h1>
            </article>
        </section>
        <section class="section color5" data-letter="S">
            <article class="section__wrapper">
                <h1 class="section__title">简答题</h1>
            </article>
        </section>
        <section class="section color6" data-letter="O">
            <article class="section__wrapper">
                <h1 class="section__title">其它</h1>
            </article>
        </section>
    </div>
    <script src='jquery-tab/js/stopExecutionOnTimeout.js?t=1'></script>
    <script src="http://libs.useso.com/js/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
    <script>
        window.jQuery || document.write('<script src="jquery-tab/js/jquery-2.1.1.min.js"><\/script>')
    </script>
    <script>
        var Nav = function () {
            var nav = $('.nav'),
                burger = $('.burger'),
                page = $('.page'),
                section = $('.section'),
                link = nav.find('.nav__link'),
                navH = nav.innerHeight(),
                isOpen = true,
                hasT = false;
            var toggleNav = function () {
                nav.toggleClass('nav--active');
                burger.toggleClass('burger--close');
                shiftPage();
            };
            var shiftPage = function () {
                if (!isOpen) {
                    page.css({
                        'transform': 'translateY(' + navH + 'px)',
                        '-webkit-transform': 'translateY(' + navH + 'px)'
                    });
                    isOpen = true;
                } else {
                    page.css({
                        'transform': 'none',
                        '-webkit-transform': 'none'
                    });
                    isOpen = false;
                }
            };
            var switchPage = function (e) {
                var self = $(this);
                var i = self.parents('.nav__item').index();
                var s = section.eq(i);
                var a = $('section.section--active');
                var t = $(e.target);
                if (!hasT) {
                    if (i == a.index()) {
                        return false;
                    }
                    a.addClass('section--hidden').removeClass('section--active');
                    s.addClass('section--active');
                    hasT = true;
                    a.on('transitionend webkitTransitionend', function () {
                        $(this).removeClass('section--hidden');
                        hasT = false;
                        a.off('transitionend webkitTransitionend');
                    });
                }
                return false;
            };
            var keyNav = function (e) {
                var a = $('section.section--active');
                var aNext = a.next();
                var aPrev = a.prev();
                var i = a.index();
                if (!hasT) {
                    if (e.keyCode === 37) {
                        if (aPrev.length === 0) {
                            aPrev = section.last();
                        }
                        hasT = true;
                        aPrev.addClass('section--active');
                        a.addClass('section--hidden').removeClass('section--active');
                        a.on('transitionend webkitTransitionend', function () {
                            a.removeClass('section--hidden');
                            hasT = false;
                            a.off('transitionend webkitTransitionend');
                        });
                    } else if (e.keyCode === 39) {
                        if (aNext.length === 0) {
                            aNext = section.eq(0);
                        }
                        aNext.addClass('section--active');
                        a.addClass('section--hidden').removeClass('section--active');
                        hasT = true;
                        aNext.on('transitionend webkitTransitionend', function () {
                            a.removeClass('section--hidden');
                            hasT = false;
                            aNext.off('transitionend webkitTransitionend');
                        });
                    } else {
                        return;
                    }
                }
            };
            var bindActions = function () {
                burger.on('click', toggleNav);
                link.on('click', switchPage);
                $(document).on('ready', function () {
                    page.css({
                        'transform': 'translateY(' + navH + 'px)',
                        '-webkit-transform': 'translateY(' + navH + 'px)'
                    });
                });
                $('body').on('keydown', keyNav);
            };
            var init = function () {
                bindActions();
            };
            return {
                init: init
            };
        }();
        Nav.init();
    </script>
</body>

</html>